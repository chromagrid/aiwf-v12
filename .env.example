########################################
# AIWF v12 — Example Environment File  #
########################################

# ==============================
# Model Configuration
# ==============================
# Define the models for each routing tier.
# Use OpenRouter-compatible model IDs or your preferred provider's equivalents.
CHEAP_MODEL=llama-3.1-8b-instruct
STD_MODEL=llama-3.1-70b-instruct
PREM_MODEL=gpt-4.1

# ==============================
# API Keys (recommended: store in n8n Credentials)
# ==============================
OPENROUTER_API_KEY=sk-your-openrouter-key
PPLX_API_KEY=sk-your-perplexity-key

# ==============================
# Redis Cache Configuration
# ==============================
# Base URL for Redis REST API (e.g., Upstash)
REDIS_BASE_URL=https://your-redis-url.upstash.io
REDIS_AUTH_HEADER=Bearer your-redis-rest-token
# TTL for cache entries in seconds
CACHE_TTL_SEC=1800

# ==============================
# Rerank Configuration
# ==============================
# Max number of top results to keep after reranking
RERANK_TOP=8

# ==============================
# Token Budgets
# ==============================
# Set max token usage per tier to control context & cost
MAX_TOKENS_SHORT=384
MAX_TOKENS_STD=768
MAX_TOKENS_LONG=1024

# ==============================
# Cost Controls
# ==============================
# Max fraction of requests allowed to use premium tier (0.0–1.0)
PREMIUM_RATE_CAP=0.05
# Block premium tier entirely (1 = block, 0 = allow)
PREMIUM_BLOCK=0
# Daily cost cap in USD — once reached, premium requests are blocked
COST_CAP_DAILY_USD=5

# ==============================
# Output Limits
# ==============================
# Max characters in final answer
MAX_ANSWER_LEN=4000
# Max citations allowed in output
MAX_CITATIONS=10

# ==============================
# Optional Debugging
# ==============================
# Enable verbose logging in workflows
DEBUG=0

# ==============================
# Workflow Identification
# ==============================
# Use to track this deployment in logs/metrics
AIWF_INSTANCE_ID=aiwf-v12-prod
